<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>pandas &#8212; Bioinf at COMAV 0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=039e1c02" />
    <script src="../_static/documentation_options.js?v=2709fde1"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Ejercicios finales" href="../ejercicios_finales.html" />
    <link rel="prev" title="Numpy" href="scipy.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="pandas">
<h1>pandas<a class="headerlink" href="#pandas" title="Link to this heading">¶</a></h1>
<p><a class="reference external" href="http://pandas.pydata.org/">pandas</a> es un paquete de Python que proporciona estructuras de datos similares a los dataframes de R.
Pandas depende de Numpy, la librería que añade un potente tipo matricial a Python.
Los principales tipos de datos que pueden representarse con pandas son:</p>
<blockquote>
<div><ul class="simple">
<li><p>Datos tabulares con columnas de tipo heterogéneo con etiquetas en columnas y filas.</p></li>
<li><p>Series temporales.</p></li>
</ul>
</div></blockquote>
<p>Pandas proporciona herramientas que permiten:</p>
<blockquote>
<div><ul class="simple">
<li><p>leer y escribir datos en diferentes formatos: CSV, Microsoft Excel, bases SQL y formato HDF5</p></li>
<li><p>seleccionar y filtrar de manera sencilla tablas de datos en función de posición, valor o etiquetas</p></li>
<li><p>fusionar y unir datos</p></li>
<li><p>transformar datos aplicando funciones tanto en global como por ventanas</p></li>
<li><p>manipulación de series temporales</p></li>
<li><p>hacer gráficas</p></li>
</ul>
</div></blockquote>
<p>En pandas existen tres tipos básicos de objetos todos ellos basados a su vez en Numpy:</p>
<blockquote>
<div><ul class="simple">
<li><p>Series (listas, 1D),</p></li>
<li><p>DataFrame (tablas, 2D) y</p></li>
<li><p>Panels (tablas 3D).</p></li>
</ul>
</div></blockquote>
<p>Nosotros vamos a ver el uso básico de los dos primeros tipos de objetos, para un mayor detalle puedes consultar su <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/dsintro.html">manual</a>.</p>
<p>pandas tiene una <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/index.html">documentación</a> muy completa y diversos <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/tutorials.html">tutoriales</a>.</p>
<section id="series">
<h2>Series<a class="headerlink" href="#series" title="Link to this heading">¶</a></h2>
<p>Las Series se pueden crear tanto a partir de listas como de diccionarios.
De manera opcional podemos especificar una lista con las etiquetas de las filas.</p>
<p>Primero necesitamos cargar la librería correspondiente:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pandas</span> <span class="kn">import</span> <span class="n">Series</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">serie</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">serie</span>
<span class="go">0      a</span>
<span class="go">1      b</span>
<span class="go">2      c</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">serie</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;pregunta1&#39;</span><span class="p">,</span> <span class="s1">&#39;pregunta2&#39;</span><span class="p">,</span> <span class="s1">&#39;pregunta3&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">serie</span>
<span class="go">pregunta1      a</span>
<span class="go">pregunta2      b</span>
<span class="go">pregunta3      c</span>
</pre></div>
</div>
<p>En el caso de que usemos un diccionario, el nombre de las filas toma el valor de las keys del diccionario (<strong>index</strong>).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;pregunta1&#39;</span><span class="p">:</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;pregunta2&#39;</span><span class="p">:</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;pregunta3&#39;</span><span class="p">:</span> <span class="s1">&#39;c&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">serie</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="nb">dict</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">serie</span>
<span class="go">pregunta1      a</span>
<span class="go">pregunta2      b</span>
<span class="go">pregunta3      c</span>
</pre></div>
</div>
<p>Podemos controlar tanto los datos que queremos incluir como su orden especificando el index:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">serie</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="nb">dict</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;pregunta3&#39;</span><span class="p">,</span> <span class="s1">&#39;pregunta1&#39;</span><span class="p">,</span> <span class="s1">&#39;pregunta4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">serie</span>
<span class="go">pregunta3      c</span>
<span class="go">pregunta1      a</span>
<span class="go">pregunta4      NaN</span>
</pre></div>
</div>
</section>
<section id="dataframe">
<h2>DataFrame<a class="headerlink" href="#dataframe" title="Link to this heading">¶</a></h2>
<p>Los DataFrame se pueden crear de diferentes maneras, una forma común de crearlos es partir de listas o diccionarios de listas, de diccionarios o de Series.
En los DataFrame tenemos la opción de especificar tanto el <strong>index</strong> (el nombre de las filas) como <strong>columns</strong> (el nombre de las columnas).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">form</span> <span class="n">pandas</span> <span class="kn">import</span> <span class="nn">DataFrame</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_listas</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataframe</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">list_listas</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;uno&#39;</span><span class="p">,</span> <span class="s1">&#39;dos&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataframe</span>
<span class="go">   uno  dos</span>
<span class="go">0    1    4</span>
<span class="go">1    2    3</span>
<span class="go">2    3    2</span>
<span class="go">3    4    1</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dict_listas</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;uno&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="s1">&#39;dos&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataframe</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">dict_listas</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataframe</span>
<span class="go">   uno  dos</span>
<span class="go">0    1    4</span>
<span class="go">1    2    3</span>
<span class="go">2    3    2</span>
<span class="go">3    4    1</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dataframe</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">dict_listas</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataframe</span>
<span class="go">   uno  dos</span>
<span class="go">a    1    4</span>
<span class="go">b    2    3</span>
<span class="go">c    3    2</span>
<span class="go">d    4    1</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dict_series</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;uno&#39;</span> <span class="p">:</span> <span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]),</span>
<span class="go"> &#39;dos&#39; : Series([1, 2, 3, 4], index=[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;])}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataframe</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">dict_series</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataframe</span>
<span class="go">  uno  dos</span>
<span class="go">a    1    1</span>
<span class="go">b    2    2</span>
<span class="go">c    3    3</span>
<span class="go">d  NaN    4</span>
</pre></div>
</div>
<p>Al igual que con las Series, podemos controlar tanto los datos que queremos incluir como su orden especificando el index y/o columnas que nos interesen:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dataframe</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">dict_series</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataframe</span>
<span class="go">   uno  dos</span>
<span class="go">d  NaN    4</span>
<span class="go">b    2    2</span>
<span class="go">a    1    1</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dataframe</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;dos&#39;</span><span class="p">,</span> <span class="s1">&#39;tres&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataframe</span>
<span class="go">   dos tres</span>
<span class="go">d    4   NaN</span>
<span class="go">b    2   NaN</span>
<span class="go">a    1   NaN</span>
</pre></div>
</div>
</section>
<section id="extraer-y-filtrar-datos">
<h2>Extraer y filtrar datos<a class="headerlink" href="#extraer-y-filtrar-datos" title="Link to this heading">¶</a></h2>
<p>Para seleccionar datos usamos los métodos <em>loc</em>, <em>iloc</em> e <em>ix</em>.
<em>loc</em> permite seleccionar dato usando las etiquetas de filas y columnas, <em>iloc</em> basándose en posición e <em>ix</em> basándose tanto en etiquetas como posición.
En el caso de una Serie, devuelve un único valor y en el caso de los DataFrame puede devolver tanto una Serie si sólo se indica la posición de fila, o un valor único si se indican fila y columna.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Series</span> <span class="n">loc</span><span class="p">[</span><span class="n">etiqueta_fila</span><span class="p">]</span>
<span class="n">Series</span> <span class="n">iloc</span><span class="p">[</span><span class="n">indice_fila</span><span class="p">]</span>
<span class="n">Series</span> <span class="n">ix</span><span class="p">[</span><span class="n">indice</span><span class="o">/</span><span class="n">etiqueta_fila</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DataFrame</span> <span class="n">loc</span><span class="p">[</span><span class="n">etiqueta_fila</span><span class="p">,</span> <span class="n">etiqueta_columna</span><span class="p">]</span>
<span class="n">DataFrame</span> <span class="n">iloc</span><span class="p">[</span><span class="n">indice_fila</span><span class="p">,</span> <span class="n">indice_columna</span><span class="p">]</span>
<span class="n">DataFrame</span> <span class="n">iloc</span><span class="p">[</span><span class="n">indice</span><span class="o">/</span><span class="n">etiqueta_fila</span><span class="p">,</span> <span class="n">indice</span><span class="o">/</span><span class="n">etiqueta_columna</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">serie</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">serie</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">serie</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">serie</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">serie</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">]</span>
<span class="go">2</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dataframe</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;uno&#39;</span> <span class="p">:</span> <span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]),</span>
<span class="go"> &#39;dos&#39; : Series([1, 2, 3, 4], index=[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;])})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataframe</span>
<span class="go">  dos  uno</span>
<span class="go">a    1    1</span>
<span class="go">b    2    2</span>
<span class="go">c    3    3</span>
<span class="go">d    4  NaN</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataframe</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span>
<span class="go">dos    1</span>
<span class="go">uno    1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataframe</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;dos&#39;</span><span class="p">]</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataframe</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">dos    2</span>
<span class="go">uno    2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataframe</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="go">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataframe</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">dos    2</span>
<span class="go">uno    2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataframe</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="go">2.0</span>
</pre></div>
</div>
<p>Para filtrar datos, le podemos pasar a la Serie o al DataFrame una lista de valores lógicos (verdaderos y falsos) indicando las filas que nos son de interés.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">serie</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">serie</span><span class="p">[[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">]]</span>
<span class="go">a    1</span>
<span class="go">c    3</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dataframe</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;uno&#39;</span> <span class="p">:</span> <span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]),</span>
<span class="go"> &#39;dos&#39; : Series([1, 2, 3, 4], index=[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;])})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataframe</span><span class="p">[[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">]]</span>
<span class="go">   dos  uno</span>
<span class="go">a    1    1</span>
<span class="go">b    2    2</span>
</pre></div>
</div>
<p>En lugar de pasar una lista de valores lógicos podemos pasar directamente una prueba lógica.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">serie</span><span class="p">[</span><span class="n">serie</span><span class="o">&gt;=</span><span class="mi">3</span><span class="p">]</span>
<span class="go">c    3</span>
<span class="go">d    4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataframe</span><span class="p">[</span><span class="n">dataframe</span><span class="p">[</span><span class="s1">&#39;dos&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">]</span>
<span class="go">   dos  uno</span>
<span class="go">b    2    2</span>
<span class="go">c    3    3</span>
<span class="go">d    4  NaN</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataframe</span><span class="p">[</span><span class="n">dataframe</span><span class="o">.</span><span class="n">index</span> <span class="o">==</span> <span class="s1">&#39;c&#39;</span><span class="p">]</span>
<span class="go">   dos  uno</span>
<span class="go">c    3    3</span>
</pre></div>
</div>
</section>
<section id="fusionar-datos">
<h2>Fusionar datos<a class="headerlink" href="#fusionar-datos" title="Link to this heading">¶</a></h2>
<p><em>concat</em> permite concatenar Series y DataFrame.
Mediante la opción axis, podemos controlar si la unión se debe hacer por filas o por columnas.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pandas</span> <span class="kn">import</span> <span class="n">concat</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span>
<span class="go">a    1</span>
<span class="go">b    2</span>
<span class="go">c    3</span>
<span class="go">d    4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span> <span class="o">=</span> <span class="n">Series</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span>
<span class="go">a    5</span>
<span class="go">b    6</span>
<span class="go">c    7</span>
<span class="go">d    8</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">concat</span><span class="p">([</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">])</span>
<span class="go">a    1</span>
<span class="go">b    2</span>
<span class="go">c    3</span>
<span class="go">d    4</span>
<span class="go">a    5</span>
<span class="go">b    6</span>
<span class="go">c    7</span>
<span class="go">d    8</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">numpy.random</span> <span class="kn">import</span> <span class="n">randn</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df1</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;c1&#39;</span><span class="p">,</span> <span class="s1">&#39;c2&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">      c1        c2</span>
<span class="go">a -0.329392 -0.115486</span>
<span class="go">b  0.526083 -0.015882</span>
<span class="go">c -1.105332 -2.153606</span>
<span class="go">d -0.660344  0.368734</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">df2</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;c1&#39;</span><span class="p">,</span> <span class="s1">&#39;c2&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df2</span>
<span class="go">         c1        c2</span>
<span class="go">a -0.400525 -0.536067</span>
<span class="go">b  2.379793 -1.032417</span>
<span class="go">c -1.995624  0.056289</span>
<span class="go">d  2.200032  0.916020</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">concat</span><span class="p">([</span><span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">        c1        c2</span>
<span class="go">a -0.329392 -0.115486</span>
<span class="go">b  0.526083 -0.015882</span>
<span class="go">c -1.105332 -2.153606</span>
<span class="go">d -0.660344  0.368734</span>
<span class="go">a -0.400525 -0.536067</span>
<span class="go">b  2.379793 -1.032417</span>
<span class="go">c -1.995624  0.056289</span>
<span class="go">d  2.200032  0.916020</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">concat</span><span class="p">([</span><span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">        c1        c2        c1        c2</span>
<span class="go">a -0.329392 -0.115486 -0.400525 -0.536067</span>
<span class="go">b  0.526083 -0.015882  2.379793 -1.032417</span>
<span class="go">c -1.105332 -2.153606 -1.995624  0.056289</span>
<span class="go">d -0.660344  0.368734  2.200032  0.916020</span>
</pre></div>
</div>
<p><em>join</em> es un método para combinar DataFrame que puedan tener diferentes etiquetas de filas en un único DataFrame.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">numpy.random</span> <span class="kn">import</span> <span class="n">randn</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df1</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;c1&#39;</span><span class="p">,</span> <span class="s1">&#39;c2&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df1</span>
<span class="go">        c1        c2</span>
<span class="go">a -1.761308  0.383365</span>
<span class="go">b -0.238843  0.543742</span>
<span class="go">c -2.179007 -0.402793</span>
<span class="go">d  1.030833  2.659904</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">df2</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">nprand</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;c3&#39;</span><span class="p">,</span> <span class="s1">&#39;c4&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df2</span>
<span class="go">        c3        c4</span>
<span class="go">b  0.894880 -0.099466</span>
<span class="go">c -0.628744 -0.786378</span>
<span class="go">d  0.575577  0.815826</span>
<span class="go">e  1.948499 -1.053409</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">df1</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">df2</span><span class="p">)</span>
<span class="go">         c1        c2        c3        c4</span>
<span class="go">a -1.761308  0.383365       NaN       NaN</span>
<span class="go">b -0.238843  0.543742  0.894880 -0.099466</span>
<span class="go">c -2.179007 -0.402793 -0.628744 -0.786378</span>
<span class="go">d  1.030833  2.659904  0.575577  0.815826</span>
</pre></div>
</div>
<p>join mantiene todos las filas presentes en el df1 pese a que no se encuentren en el df2 y completando con NaN los datos faltantes.
Este comportamiento se puede modificar usando la opción <em>how</em>.
<em>how=’outer’</em> incluirá también las filas presentes en el df2 y que no están en el df1 y <em>how=’inner’</em> sólo mostrará las filas comunes a los dos DataFrame.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df1</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">df2</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;outer&#39;</span><span class="p">)</span>
<span class="go">         c1        c2        c3        c4</span>
<span class="go">a -1.761308  0.383365       NaN       NaN</span>
<span class="go">b -0.238843  0.543742  0.894880 -0.099466</span>
<span class="go">c -2.179007 -0.402793 -0.628744 -0.786378</span>
<span class="go">d  1.030833  2.659904  0.575577  0.815826</span>
<span class="go">e       NaN       NaN  1.948499 -1.053409</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">df1</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">df2</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">)</span>
<span class="go">         c1        c2        c3        c4</span>
<span class="go">b -0.238843  0.543742  0.894880 -0.099466</span>
<span class="go">c -2.179007 -0.402793 -0.628744 -0.786378</span>
<span class="go">d  1.030833  2.659904  0.575577  0.815826</span>
</pre></div>
</div>
</section>
<section id="metodos-de-interes">
<h2>Métodos de interés<a class="headerlink" href="#metodos-de-interes" title="Link to this heading">¶</a></h2>
<p>Existen múltiples métodos que nos permiten visualizar y modificar los datos almacenados en Series y DataFrame.
Aquí vamos a ver sólo unos cuantos ejemplos de métodos que pueden ser de utilidad:</p>
<p><em>head</em> y <em>tail</em> permiten ver una pequeña parte de los datos tanto del principio como del final.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">serie</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">nprand</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">1000</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">serie</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="go">0    0.587525</span>
<span class="go">1    0.298493</span>
<span class="go">2    0.639990</span>
<span class="go">3    0.662683</span>
<span class="go">4    0.143679</span>
</pre></div>
</div>
<p><em>groupby</em> permite agrupar los datos en función de un criterio dado.
Devuelve un objeto GroupBy, y uno de sus atributos (<em>groups</em>) es un diccionario dónde las claves son los grupos y los valores son las etiquetas de las filas que pertenecen a dicho grupo</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dict_series</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;uno&#39;</span> <span class="p">:</span> <span class="n">Series</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ind1&#39;</span><span class="p">,</span> <span class="s1">&#39;ind2&#39;</span><span class="p">,</span> <span class="s1">&#39;ind3&#39;</span><span class="p">,</span> <span class="s1">&#39;ind4&#39;</span><span class="p">]),</span>
<span class="go">                 &#39;dos&#39; : Series([1, 1, 2, 2], index=[&#39;ind1&#39;, &#39;ind2&#39;, &#39;ind3&#39;, &#39;ind4&#39;])}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">dict_series</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;uno&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">groups</span>
<span class="go">{&#39;a&#39;: [&#39;ind1&#39;, &#39;ind4&#39;], &#39;b&#39;: [&#39;ind2&#39;, &#39;ind3&#39;]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;dos&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">groups</span>
<span class="go">{1: [&#39;ind1&#39;, &#39;ind2&#39;], 2: [&#39;ind3&#39;, &#39;ind4&#39;]}</span>
</pre></div>
</div>
<p><em>map</em> y <em>applymap</em> sirven para aplicar una función a cada uno de los elementos de una Serie y un DataFrame respectivamente</p>
<p><em>iteritems</em> y <em>iterrows</em> permiten iterar sobre un DataFrame.
El primero devuelve el DataFrame columna por columna y el segundo por filas.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dict_series</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;uno&#39;</span> <span class="p">:</span> <span class="n">Series</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ind1&#39;</span><span class="p">,</span> <span class="s1">&#39;ind2&#39;</span><span class="p">,</span> <span class="s1">&#39;ind3&#39;</span><span class="p">,</span> <span class="s1">&#39;ind4&#39;</span><span class="p">]),</span>
<span class="go">                 &#39;dos&#39; : Series([1, 1, 2, 2], index=[&#39;ind1&#39;, &#39;ind2&#39;, &#39;ind3&#39;, &#39;ind4&#39;])}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">dict_series</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">column</span><span class="p">,</span> <span class="n">values</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
<span class="go">    print column</span>
<span class="go">    print list(values)</span>
</pre></div>
</div>
<p>pandas tiene además implementados diversos métodos estadísticos para operar en Series y DataFrames.
En el caso de las Series se aplican directamente, mientras que en DataFrame hay que especificar si se tiene que aplicar por filas (axis=1) o por columnas (axis=0, valor por defecto).
Además existen métodos para el calculo de estadísticos mediante el uso de ventanas deslizantes a lo largo de series de datos.
Algunos ejemplos de estos métodos son:</p>
<blockquote>
<div><ul class="simple">
<li><p><em>count</em> Número de observaciones no nulas</p></li>
<li><p><em>sum</em>               Suma de valores</p></li>
<li><p><em>mean</em>      Media</p></li>
<li><p><em>median</em>    Mediana</p></li>
<li><p><em>min</em>               Mínimo</p></li>
<li><p><em>max</em>               Máximo</p></li>
<li><p><em>mode</em>      Moda</p></li>
<li><p><em>abs</em>               Valor absoluto</p></li>
<li><p><em>std</em>               Desviacion estándar</p></li>
<li><p><em>var</em>               Varianza</p></li>
<li><p><em>quantile</em> Quartil</p></li>
<li><p><em>corr</em>      Cálculo de correlaciones</p></li>
<li><p><em>cov</em>               Cálculo de covarianza</p></li>
</ul>
</div></blockquote>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dict_series</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;uno&#39;</span> <span class="p">:</span> <span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]),</span>
<span class="go">                   &#39;dos&#39; : Series([1, 2, 3, 4], index=[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;])}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">dict_series</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">dos    4</span>
<span class="go">uno    3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">a    2</span>
<span class="go">b    2</span>
<span class="go">c    2</span>
<span class="go">d    1</span>
</pre></div>
</div>
</section>
<section id="leer-y-escribir-archivos">
<h2>Leer y escribir archivos<a class="headerlink" href="#leer-y-escribir-archivos" title="Link to this heading">¶</a></h2>
<p>Los objetos de pandas permiten tanto leer datos en diversos formatos (<em>read_csv, read_excel, read_json, read_html, read_pickle….</em>) como escribir en ellos (<em>to_csv, to_excel, to_json, to_html, to_pickle….</em>).
Permite incluso leer y escribir en el portapapeles (<em>read_clipboard, to_clipboard</em>).
Veamos un par de ejemplos sencillo de cómo leer y escribir un archivo CSV (comma separated value)</p>
<p>Empezamos importando la funcion que necesitamos</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pandas</span> <span class="kn">import</span> <span class="n">read_csv</span>
</pre></div>
</div>
<p>Alguno de los argumentos, además del nombre del archivo, que se le pueden pasar a la función <em>read_csv</em> son:</p>
<blockquote>
<div><ul class="simple">
<li><p>sep: el delimitador que divide los campos del csv</p></li>
<li><p>header: el número de fila que contiene los nombres de las columnas. Por defecto es la primera línea (linea 0), si no existe cabecera header=None</p></li>
<li><p>index_col: el número de columna que contiene los nombre para usar como indexa. Por defecto no considera ninguna</p></li>
</ul>
</div></blockquote>
<p>Supongamos que tenemos el siguiente archivo csv llamado ‘fichero1.csv’:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">individuo</span><span class="p">,</span><span class="n">p1</span><span class="p">,</span><span class="n">p2</span><span class="p">,</span><span class="n">p3</span>
<span class="n">indi</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span>
<span class="n">ind2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span>
<span class="n">ind3</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;fichero1.csv&#39;</span><span class="p">)</span>
<span class="go">  individuo p1 p2 p3</span>
<span class="go">0 indi 1 2 3</span>
<span class="go">1 ind2 4 5 6</span>
<span class="go">2 ind3 7 8 9</span>
</pre></div>
</div>
<p>Si queremos especificar que el nombre de las filas se encuentra en la primera columna:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;fichero1.csv&#39;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">individuo p1 p2 p3</span>
<span class="go">indi 1 2 3</span>
<span class="go">ind2 4 5 6</span>
<span class="go">nd3 7 8 9</span>
</pre></div>
</div>
<p>Si en lugar de comas tuviéramos algún otro delimitador habría que especificarlo, por ejemplo si fueran tabuladores habría que pasarle a la función sep=’t’.
O si nuestro fichero no incluyera una fila con columnas o no fuera la primera línea habría que especificarlo mediante header=None o el número que correspondiera.</p>
<p>Para escribir un DataFrame a un csv simplemente basta con:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">to_cvs</span><span class="p">(</span><span class="s1">&#39;nombre_archivo.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="ejercicios">
<h2>Ejercicios<a class="headerlink" href="#ejercicios" title="Link to this heading">¶</a></h2>
<p>Tenemos un <a class="reference download internal" download="" href="../_downloads/a698895a8592482666e4b80197347888/ejer_pandas.csv"><code class="xref download docutils literal notranslate"><span class="pre">fichero</span></code></a> csv con datos sobre origen, peso y tamaño de diferentes individuos de una especie</p>
<ol class="arabic simple">
<li><p>Lee el fichero</p></li>
<li><p>¿Qué peso tiene el segundo individuo? ¿Y los individuos cam01, tur03 y pet05?</p></li>
<li><p>¿Cuál es el mayor tamaño registrado? ¿Y el mayor peso?</p></li>
<li><p>¿Cuál es la media de tamaño de los individuos por lugar de origen?</p></li>
<li><p>¿Existe correlación entre el peso y el tamaño?</p></li>
<li><p>Guarda en un fichero los datos de los individuos de Inglaterra</p></li>
</ol>
<ol class="arabic simple">
<li><p>Lee el fichero</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pandas</span> <span class="kn">import</span> <span class="n">DataFrame</span><span class="p">,</span> <span class="n">read_csv</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">datos</span> <span class="o">=</span> <span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;analisis.csv&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;;&#39;</span><span class="p">,</span> <span class="n">skiprows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>¿Qué peso tiene el segundo individuo? ¿Y los individuos cam01, tur03 y pet05?</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">datos</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;peso&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>o bien</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">datos</span><span class="p">[</span><span class="s1">&#39;peso&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">datos</span><span class="o">.</span><span class="n">ix</span><span class="p">[[</span><span class="s1">&#39;cam01&#39;</span><span class="p">,</span> <span class="s1">&#39;tur03&#39;</span><span class="p">,</span> <span class="s1">&#39;pet05&#39;</span><span class="p">],</span> <span class="s1">&#39;peso&#39;</span><span class="p">]</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>¿Cuál es el mayor tamaño registrado? ¿Y el mayor peso?</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">datos</span><span class="p">[</span><span class="s1">&#39;tamano&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">datos</span><span class="p">[</span><span class="s1">&#39;peso&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span>
</pre></div>
</div>
<p>o bien</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">datos</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>¿Cuál es la media de tamaño de los individuos por lugar de origen?</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">groups</span> <span class="o">=</span> <span class="n">datos</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;origen&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">groups</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">country</span><span class="p">,</span> <span class="n">indvs</span> <span class="ow">in</span> <span class="n">groups</span><span class="o">.</span><span class="n">viewitems</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="nb">print</span> <span class="n">country</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="nb">print</span> <span class="n">datos</span><span class="p">[</span><span class="s1">&#39;tamano&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="n">indvs</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li><p>¿Existe correlación entre el peso y el tamaño?</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">datos</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span>
</pre></div>
</div>
<p>o bien</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">datos</span><span class="p">[</span><span class="s1">&#39;tamano&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">datos</span><span class="p">[</span><span class="s1">&#39;peso&#39;</span><span class="p">])</span>
</pre></div>
</div>
<ol class="arabic simple" start="6">
<li><p>Guarda en un fichero los datos de los individuos de Inglaterra</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">datos</span><span class="p">[</span><span class="n">datos</span><span class="p">[</span><span class="s1">&#39;origen&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Inglaterra&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;datos_inglaterra.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/comav.png" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="../index.html">Bioinf at COMAV</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../presentacion_del_curso.html">Presentación del curso</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/introduccion.html">Introducción a Unix</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/ubuntu.html">Iniciación a Ubuntu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/ubuntu.html#bibliografia">Bibliografía</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/shell.html">La Shell the UNIX</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/shell.html#el-sistema-de-ficheros">El sistema de ficheros</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/procesamiento_texto.html">Procesamiento de ficheros de texto</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/expresiones_regulares.html">Expresiones regulares</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/procesos.html">Procesos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/administracion_software.html">Administración de software</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduccion.html">Introducción a Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="cadenas_de_texto.html">Cadenas de texto</a></li>
<li class="toctree-l1"><a class="reference internal" href="listas.html">Listas</a></li>
<li class="toctree-l1"><a class="reference internal" href="primer_programa.html">Un primer programa</a></li>
<li class="toctree-l1"><a class="reference internal" href="control_de_flujo.html">Control de flujo</a></li>
<li class="toctree-l1"><a class="reference internal" href="estructuras_de_datos.html">Diccionarios</a></li>
<li class="toctree-l1"><a class="reference internal" href="estructuras_de_datos.html#sets">Sets</a></li>
<li class="toctree-l1"><a class="reference internal" href="ejercicios_repaso.html">Ejercicios de repaso</a></li>
<li class="toctree-l1"><a class="reference internal" href="funciones.html">Funciones</a></li>
<li class="toctree-l1"><a class="reference internal" href="ficheros.html">Ficheros</a></li>
<li class="toctree-l1"><a class="reference internal" href="generadores.html">Generadores</a></li>
<li class="toctree-l1"><a class="reference internal" href="modulos.html">Modulos</a></li>
<li class="toctree-l1"><a class="reference internal" href="biopython.html">Biopython</a></li>
<li class="toctree-l1"><a class="reference internal" href="scipy.html">Numpy</a></li>
<li class="toctree-l1"><a class="reference internal" href="scipy.html#pandas">pandas</a></li>
<li class="toctree-l1"><a class="reference internal" href="scipy.html#matplotlib">matplotlib</a></li>
<li class="toctree-l1"><a class="reference internal" href="scipy.html#rpy">Rpy</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">pandas</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#series">Series</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dataframe">DataFrame</a></li>
<li class="toctree-l2"><a class="reference internal" href="#extraer-y-filtrar-datos">Extraer y filtrar datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fusionar-datos">Fusionar datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="#metodos-de-interes">Métodos de interés</a></li>
<li class="toctree-l2"><a class="reference internal" href="#leer-y-escribir-archivos">Leer y escribir archivos</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ejercicios">Ejercicios</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ejercicios_finales.html">Ejercicios finales</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ejercicios_finales.html#soluciones">Soluciones</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="scipy.html" title="previous chapter">Numpy</a></li>
      <li>Next: <a href="../ejercicios_finales.html" title="next chapter">Ejercicios finales</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2010-2023, Jose Blanca & Joaquin Cañizares.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
    </div>

    

    
  </body>
</html>
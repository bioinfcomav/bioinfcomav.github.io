<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Administrador</title>
  <meta name="description" content="Introduction to the Linux command line.">

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="/administrador.html">
  <link rel="alternate" type="application/rss+xml" title="Curso Unix" href="/feed.xml">
  
  
</head>


  <body>

    <header class="site-header" role="banner">

  <div class="wrapper">

    <a class="site-title" href="/">Curso Unix</a>

    <nav class="site-nav">
      <span class="menu-icon">
        <svg viewBox="0 0 18 15" width="18px" height="15px">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </span>

      <div class="trigger">
        
          
          <a class="page-link" href="/index.html">Curso Unix</a>
          
        
          
          <a class="page-link" href="/unix_intro.html">Unix y Linux</a>
          
        
          
          <a class="page-link" href="/sistema_de_ficheros.html">El sistema de ficheros</a>
          
        
          
          <a class="page-link" href="/control_procesos.html">Procesos</a>
          
        
          
          <a class="page-link" href="/pipes.html">Flujos de información</a>
          
        
          
          <a class="page-link" href="/procesamiento_texto.html">Procesamiento de ficheros de texto</a>
          
        
          
          <a class="page-link" href="/expresiones_regulares.html">Expresiones regulares</a>
          
        
          
          <a class="page-link" href="/scripts_bash.html">Scripts de bash</a>
          
        
          
          <a class="page-link" href="/administrador.html">Administrador</a>
          
        
          
          <a class="page-link" href="/administracion_software1.html">Administracion de software 1</a>
          
        
          
          <a class="page-link" href="/variables_de_entorno.html">Variables de entorno</a>
          
        
          
          <a class="page-link" href="/administracion_software2.html">Administracion de software 2</a>
          
        
          
          <a class="page-link" href="/redes.html">Redes</a>
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">Administrador</h1>
  </header>

  <div class="post-content">
    <ul id="markdown-toc">
  <li><a href="#sudo" id="markdown-toc-sudo">sudo</a></li>
  <li><a href="#su" id="markdown-toc-su">su</a></li>
</ul>

<p>Los sistemas Unix entre los que se encuentra Linux, son sistemas multiusuario, en los que muchos usuarios pueden usar el sistema concurrentemente. No todos los usuarios tienen los mismos permisos en el sistema, existe un usuario especial llamado root que es el administrador o superusuario.</p>

<p>El usuario root a diferencia del resto de los usuarios, no tiene su carpeta personal en <code class="highlighter-rouge">/home</code> sino que la tiene en una carpeta separada: <code class="highlighter-rouge">/root</code>.</p>

<p>Por defecto un usuario no puede modificar nada excepto su carpeta personal. Por ejemplo un usuario no puede instalar ninguna aplicacion fuera de sus carpeta personal. Para poder hacerlo el usuario tiene dos opciones:</p>

<ol>
  <li>
    <p>Adquirir temporalmente privilegios de root</p>
  </li>
  <li>
    <p>Convertirse en root.</p>
  </li>
</ol>

<h3 id="sudo">sudo</h3>

<p>En ubuntu por defecto el usuario root está deshabilitado y la unica forma de conseguir permisos de superusuario es mediente el comando <code class="highlighter-rouge">sudo</code>. Escribiendo sudo en la consola delante de cualquier comando, estaremos ejecutando el comando con permisos de superusuario:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>user@virtual:~$ cat /etc/shadow
cat: /etc/shadow: Permiso denegado
user@virtual:~$ sudo cat /etc/shadow
root::17074:0:99999:7:::
daemon:*:17001:0:99999:7:::
bin:*:17001:0:99999:7:::
sys:*:17001:0:99999:7:::
sync:*:17001:0:99999:7:::
</code></pre>
</div>

<p>No todos los usuarios tienen permiso para usar sudo, solo aquellos usuarios que son administradores. Para convertirse en administrador y poder usar sudo, un usuario solo tiene que ser añadido al grupo sudo.</p>

<p>Además con sudo se puede hacer login como root. Con la opcion <code class="highlighter-rouge">sudo -s</code>:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>user@virtual:~$ sudo -s
[sudo] password for user:
root@virtual:~#
</code></pre>
</div>

<h3 id="su">su</h3>
<p>Si no estamos en el grupo de <code class="highlighter-rouge">sudo</code> o si <code class="highlighter-rouge">sudo</code> no está disponible en el sistema, podemos usar el comando <code class="highlighter-rouge">su</code> para poder cambiar de usuario en la misma sesión.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>user@virtual:~$ su
root@virtual:/home/user# id
uid=0(root) gid=0(root) grupos=0(root)
</code></pre>
</div>

<p>En ubuntu no podremos convertirnos en root ya que el usuario está deshabilitado. Si queremos habilitarlo, lo unico que tenemos que hacer es darle un password nuevo:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>~$ sudo passwd
[sudo] password for user:
Introduzca la nueva contraseña de UNIX:
Vuelva a escribir la nueva contraseña de UNIX:
passwd: contraseña actualizada correctamente
</code></pre>
</div>

<p><code class="highlighter-rouge">su</code> ademas de cambiar al usuario root, tambien permite cambiar a cualquier otro usuario, siempre que sepamos el password. Un truco muy util para “convertirmos” en otro usuario sin saber su password es combinar <code class="highlighter-rouge">sudo</code> y <code class="highlighter-rouge">su</code>:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>user@virtual:~$ sudo su  user2
user2@virtual:/home/user$ id
uid=1001(user2) gid=1001(user2) grupos=1001(user2)
user2@virtual:/home/user$
</code></pre>
</div>

  </div>

</article>

      </div>
    </main>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Curso Unix</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>
            
              Curso Unix
            
            </li>
            
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          

          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>Introduction to the Linux command line.</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
